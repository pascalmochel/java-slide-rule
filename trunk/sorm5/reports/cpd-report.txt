Found a 42 line (135 tokens) duplication in the following files: 
Starting at line 12 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/RecursiveTest.java
Starting at line 12 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/IdentityMapTest.java

public class IdentityMapTest {

	static {
		new EntityTest2();
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");
		DataMapper.executeDDLIgnoringErrors("DROP TABLE RABBIT");

		DataMapper.executeDDL(
		/**/"CREATE TABLE RABBIT (" +
		/**/"ID_RABBIT INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER," +
		/**/"NUM_DOG INTEGER)"
		/**/);
		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER)"
		/**/);
		SessionFactory.getSession().commit();
	}

	@After
	public void after() {
		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE RABBIT");
		DataMapper.executeDDL("DROP TABLE DOG");
		SessionFactory.getSession().commit();
	}

	@Test
	public void test1() {

		SessionFactory.getSession().open();
		DataMapper.executeDDL("INSERT INTO DOG (ID_DOG,NAME,AGE) VALUES (500,'din',9)");
=====================================================================
Found a 25 line (133 tokens) duplication in the following files: 
Starting at line 24 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 95 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

	public static Number aggregate(final IQueryObject query) {
		if (LOG.isLoggable(Level.FINE)) {
			LOG.fine(query.toString());
		}
		if (SHOW_SQL) {
			System.out.println(query.toString());
		}

		PreparedStatement pstm = null;
		ResultSet rs = null;
		try {

			final Connection c = SessionFactory.getSession().getConnection();
			pstm = c.prepareStatement(query.getQuery());

			int columnIndex = 1;
			for (final Object p : query.getParams()) {
				pstm.setObject(columnIndex++, p);
			}

			rs = pstm.executeQuery();
			if (!rs.next()) {
				throw new SormException("no row produced");
			}
			final Number r = (Number) rs.getObject(1);
=====================================================================
Found a 24 line (129 tokens) duplication in the following files: 
Starting at line 24 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 134 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

	public static void aggregateIdentityField(final IQueryObject query, final IdentifiableField<?> field) {
		if (LOG.isLoggable(Level.FINE)) {
			LOG.fine(query.toString());
		}
		if (SHOW_SQL) {
			System.out.println(query.toString());
		}

		PreparedStatement pstm = null;
		ResultSet rs = null;
		try {

			final Connection c = SessionFactory.getSession().getConnection();
			pstm = c.prepareStatement(query.getQuery());

			int columnIndex = 1;
			for (final Object p : query.getParams()) {
				pstm.setObject(columnIndex++, p);
			}

			rs = pstm.executeQuery();
			if (!rs.next()) {
				throw new SormException("no row produced");
			}
=====================================================================
Found a 20 line (123 tokens) duplication in the following files: 
Starting at line 24 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 62 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

	public static <T extends Entity> List<T> query(final IRowMapper<T> rowMapper, final IQueryObject query) {
		if (LOG.isLoggable(Level.FINE)) {
			LOG.fine(query.toString());
		}
		if (SHOW_SQL) {
			System.out.println(query.toString());
		}

		PreparedStatement pstm = null;
		ResultSet rs = null;
		try {
			final Connection c = SessionFactory.getSession().getConnection();
			pstm = c.prepareStatement(query.getQuery());

			int columnIndex = 1;
			for (final Object p : query.getParams()) {
				pstm.setObject(columnIndex++, p);
			}

			rs = pstm.executeQuery();
=====================================================================
Found a 39 line (116 tokens) duplication in the following files: 
Starting at line 12 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/RecursiveTest.java
Starting at line 17 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/CriteriaTest.java
Starting at line 36 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/session/NestedTransactionsTest.java

public class NestedTransactionsTest {

	static {
		new EntityTest2();
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");
		DataMapper.executeDDLIgnoringErrors("DROP TABLE RABBIT");

		DataMapper.executeDDL(
		/**/"CREATE TABLE RABBIT (" +
		/**/"ID_RABBIT INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER," +
		/**/"NUM_DOG INTEGER)"
		/**/);
		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER)"
		/**/);
		SessionFactory.getSession().commit();
	}

	@After
	public void after() {
		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE RABBIT");
		DataMapper.executeDDL("DROP TABLE DOG");
		SessionFactory.getSession().commit();
	}

	@Test
	public void testProgram1() {
=====================================================================
Found a 21 line (115 tokens) duplication in the following files: 
Starting at line 62 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 95 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

	public static Number aggregate(final IQueryObject query) {
		if (LOG.isLoggable(Level.FINE)) {
			LOG.fine(query.toString());
		}
		if (SHOW_SQL) {
			System.out.println(query.toString());
		}

		PreparedStatement pstm = null;
		ResultSet rs = null;
		try {

			final Connection c = SessionFactory.getSession().getConnection();
			pstm = c.prepareStatement(query.getQuery());

			int columnIndex = 1;
			for (final Object p : query.getParams()) {
				pstm.setObject(columnIndex++, p);
			}

			rs = pstm.executeQuery();
=====================================================================
Found a 21 line (112 tokens) duplication in the following files: 
Starting at line 62 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 134 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

	public static void aggregateIdentityField(final IQueryObject query, final IdentifiableField<?> field) {
		if (LOG.isLoggable(Level.FINE)) {
			LOG.fine(query.toString());
		}
		if (SHOW_SQL) {
			System.out.println(query.toString());
		}

		PreparedStatement pstm = null;
		ResultSet rs = null;
		try {

			final Connection c = SessionFactory.getSession().getConnection();
			pstm = c.prepareStatement(query.getQuery());

			int columnIndex = 1;
			for (final Object p : query.getParams()) {
				pstm.setObject(columnIndex++, p);
			}

			rs = pstm.executeQuery();
=====================================================================
Found a 21 line (111 tokens) duplication in the following files: 
Starting at line 110 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/Entity.java
Starting at line 133 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/Entity.java

	private <T extends Entity> T ploadUniqueBy(final Class<T> entityClass, final Criterion... criterions) {
		log.fine("loadBy(Criterion[])");

		final Criterion cs;
		if (criterions.length == 0) {
			throw new SormException("this method requires almost one Criterion parameter");
		} else {
			if (criterions.length == 1) {
				cs = criterions[0];
			} else {
				cs = Criteria.concate(criterions);
			}
		}
		final IQueryObject query = new QueryObject()
		/**/.append("SELECT * FROM ")
		/**/.append(getTableName())
		// TODO multipart
				/**/.append(cs.renderQuery())
		/**/;
		final IRowMapper<T> mapper = getRowMapper();
		return DataMapper.queryUnique(mapper, query);
=====================================================================
Found a 32 line (105 tokens) duplication in the following files: 
Starting at line 16 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/RecursiveTest.java
Starting at line 89 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/ATest.java

	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");
		DataMapper.executeDDLIgnoringErrors("DROP TABLE RABBIT");

		DataMapper.executeDDL(
		/**/"CREATE TABLE RABBIT (" +
		/**/"ID_RABBIT INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER," +
		/**/"NUM_DOG INTEGER)"
		/**/);
		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER)"
		/**/);
		SessionFactory.getSession().commit();
	}

	@After
	public void after() {
		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE RABBIT");
		DataMapper.executeDDL("DROP TABLE DOG");
		SessionFactory.getSession().commit();
	}
=====================================================================
Found a 28 line (103 tokens) duplication in the following files: 
Starting at line 28 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Dog.java
Starting at line 23 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormDog.java

	public SormDog(final Integer id, final String name, final Integer age) {
		this();
		setId(id);
		setName(name);
		setAge(age);
	}

	public Integer getId() {
		return get(id);
	}

	public void setId(final Integer id) {
		set(Dog.id, id);
	}

	public String getName() {
		return get(name);
	}

	public void setName(final String name) {
		set(Dog.name, name);
	}

	public Integer getAge() {
		return get(age);
	}

	public void setAge(final Integer age) {
=====================================================================
Found a 32 line (100 tokens) duplication in the following files: 
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/HsqldbIdentityTest.java
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyTest.java

		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER)"
		/**/);

		SessionFactory.getSession().commit();
	}

	@After
	public void after() {

		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE DOG");
		SessionFactory.getSession().commit();
	}

	@Test
	public void testname() throws Exception {
		SessionFactory.getSession().open();

		new NoKeyDog(5, "din", 9).insert();
=====================================================================
Found a 15 line (82 tokens) duplication in the following files: 
Starting at line 204 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 225 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

	public static int executeDDL(final String sqlQuery) {

		if (LOG.isLoggable(Level.FINE)) {
			LOG.fine("DDL: " + sqlQuery);
		}
		if (SHOW_SQL) {
			System.out.println(sqlQuery);
		}

		PreparedStatement pstm = null;
		try {
			final Connection c = SessionFactory.getSession().getConnection();
			pstm = c.prepareStatement(sqlQuery);
			return pstm.executeUpdate();
		} catch (final Exception e) {
=====================================================================
Found a 31 line (81 tokens) duplication in the following files: 
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/SaveTest.java
Starting at line 12 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/RecursiveTest.java

public class RecursiveTest {

	static {
		new EntityTest2();
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");
		DataMapper.executeDDLIgnoringErrors("DROP TABLE RABBIT");

		DataMapper.executeDDL(
		/**/"CREATE TABLE RABBIT (" +
		/**/"ID_RABBIT INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER," +
		/**/"NUM_DOG INTEGER)"
		/**/);
		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER)"
		/**/);
		SessionFactory.getSession().commit();
	}

	@After
	public void after() {
=====================================================================
Found a 26 line (76 tokens) duplication in the following files: 
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest2.java
Starting at line 17 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java

		new EntityTest2();
		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Test
	public void testname() throws Exception {

		{
			SessionFactory.getSession().open();

			DataMapper.executeDDLIgnoringErrors("DROP TABLE RABBIT");
			DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

			DataMapper.executeDDL(
			/**/"CREATE TABLE RABBIT (" +
			/**/"ID_RABBIT INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
			/**/"NAME VARCHAR(20)," +
			/**/"AGE INTEGER," +
			/**/"NUM_DOG INTEGER)"
			/**/);
			DataMapper.executeDDL(
			/**/"CREATE TABLE DOG (" +
			/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
			/**/"NAME VARCHAR(20)," +
			/**/"AGE INTEGER)"
			/**/);
=====================================================================
Found a 27 line (74 tokens) duplication in the following files: 
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/SaveTest.java
Starting at line 89 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/ATest.java

	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");
		DataMapper.executeDDLIgnoringErrors("DROP TABLE RABBIT");

		DataMapper.executeDDL(
		/**/"CREATE TABLE RABBIT (" +
		/**/"ID_RABBIT INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER," +
		/**/"NUM_DOG INTEGER)"
		/**/);
		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER)"
		/**/);
		SessionFactory.getSession().commit();
	}

	@After
	public void after() {
=====================================================================
Found a 19 line (68 tokens) duplication in the following files: 
Starting at line 26 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceTest.java
Starting at line 44 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormBenchmark.java

		DataMapper.executeDDLIgnoringErrors("DROP SEQUENCE DOG_SEQUENCE");

		DataMapper.executeDDL("CREATE SEQUENCE DOG_SEQUENCE AS INTEGER START WITH 1 INCREMENT BY 1");
		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER)"
		/**/);
		SessionFactory.getSession().commit();
	}

	@After
	public void after() {
		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP SEQUENCE DOG_SEQUENCE");
		DataMapper.executeDDL("DROP TABLE DOG");
		SessionFactory.getSession().commit();
	}
=====================================================================
Found a 5 line (63 tokens) duplication in the following files: 
Starting at line 66 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/SingletonFactory.java
Starting at line 83 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/SingletonFactory.java

	public static <T extends Entity> void querySet(final Class<T> c, final String name, final MutableQueryObject query) {
		final Map<Class<? extends Entity>, Map<String, MutableQueryObject>> entMap = threadLocalQueries.get();
		if (!entMap.containsKey(c)) {
			final Map<String, MutableQueryObject> queriesMap = new HashMap<String, MutableQueryObject>();
			entMap.put(c, queriesMap);
=====================================================================
Found a 20 line (63 tokens) duplication in the following files: 
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumDog.java
Starting at line 27 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormDog.java

		setAge(age);
	}

	public Integer getId() {
		return get(id);
	}

	public void setId(final Integer id) {
		set(Dog.id, id);
	}

	public String getName() {
		return get(name);
	}

	public void setName(final String name) {
		set(Dog.name, name);
	}

	public Integer getAge() {
=====================================================================
Found a 16 line (63 tokens) duplication in the following files: 
Starting at line 32 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/HsqldbIdentityTest.java
Starting at line 32 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumTest.java

		/**/);

		SessionFactory.getSession().commit();
	}

	@After
	public void after() {

		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE DOG");
		SessionFactory.getSession().commit();
	}

	@Test
	public void testname() throws Exception {
		SessionFactory.getSession().open();
=====================================================================
Found a 20 line (63 tokens) duplication in the following files: 
Starting at line 32 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Dog.java
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumDog.java

		setColor(color);
	}

	public Integer getId() {
		return get(id);
	}

	public void setId(final Integer id) {
		set(Dog.id, id);
	}

	public String getName() {
		return get(name);
	}

	public void setName(final String name) {
		set(Dog.name, name);
	}

	public EColor getColor() {
=====================================================================
Found a 10 line (62 tokens) duplication in the following files: 
Starting at line 61 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest2.java
Starting at line 89 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java

				System.out.println("====================================");

				DataMapper.executeDDL("INSERT INTO DOG (ID_DOG,NAME,AGE) VALUES (500,'din',9)");
				DataMapper
						.executeDDL("INSERT INTO RABBIT (ID_RABBIT,NAME,AGE,NUM_DOG) VALUES (600,'cornill',5, 500)");

				final Rabbit r = Entity.loadById(Rabbit.class, 600);
				System.out.println(r);
				System.out.println(r.getDog());
				System.out.println(r);
=====================================================================
Found a 8 line (60 tokens) duplication in the following files: 
Starting at line 23 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/session/identity/IdentityMap.java
Starting at line 53 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/session/identity/IdentityMap.java

		}

		final Class<T> ec = (Class<T>) entity.getClass();
		HashMap<Object, T> instancesMap = entityMap.get(ec);
		if (instancesMap == null) {
			instancesMap = new HashMap<Object, T>();
			entityMap.put(ec, instancesMap);
		}
=====================================================================
Found a 17 line (57 tokens) duplication in the following files: 
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyTest.java
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumTest.java

public class EnumTest {

	static {
		new EntityTest2();
		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
=====================================================================
Found a 9 line (56 tokens) duplication in the following files: 
Starting at line 33 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 182 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

		PreparedStatement pstm = null;
		try {
			final Connection c = SessionFactory.getSession().getConnection();
			pstm = c.prepareStatement(query.getQuery());

			int columnIndex = 1;
			for (final Object p : query.getParams()) {
				pstm.setObject(columnIndex++, p);
			}
=====================================================================
Found a 6 line (55 tokens) duplication in the following files: 
Starting at line 152 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/BaseEntity.java
Starting at line 162 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/BaseEntity.java

	protected <E extends Entity> List<E> getCollaboration(final OneToMany<?, E> collaborableField) {
		final OneToMany<?, E> self = (OneToMany<?, E>) oneToManies.get(collaborableField.getColumnName());
		if (self == null) {
			throw new SormException(collaborableField.getColumnName() + "=" + collaborableField
					+ " not found in: " + oneToManies);
		}
=====================================================================
Found a 6 line (55 tokens) duplication in the following files: 
Starting at line 131 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/BaseEntity.java
Starting at line 141 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/BaseEntity.java

	protected <TID, E extends Entity> E getCollaboration(final ManyToOne<TID, E> manyToOneField) {
		final ManyToOne<TID, E> self = (ManyToOne<TID, E>) fields.get(manyToOneField.getColumnName());
		if (self == null) {
			throw new SormException(manyToOneField.getColumnName() + "=" + manyToOneField + " not found in: "
					+ manyToOnes);
		}
=====================================================================
Found a 13 line (53 tokens) duplication in the following files: 
Starting at line 26 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Rabbit.java
Starting at line 28 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Dog.java
Starting at line 21 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceDog.java
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/IdentityDog.java
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyDog.java

	public NoKeyDog(final Integer id, final String name, final Integer age) {
		this();
		setId(id);
		setName(name);
		setAge(age);
	}

	public Integer getId() {
		return get(id);
	}

	public void setId(final Integer id) {
		set(NoKeyDog.id, id);
=====================================================================
Found a 5 line (51 tokens) duplication in the following files: 
Starting at line 112 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/BaseEntity.java
Starting at line 121 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/BaseEntity.java

	protected <T extends Enum<T>> void setEnum(final FEnum<T> enumField, final T value) {
		final FEnum<T> self = (FEnum<T>) fields.get(enumField.getColumnName());
		if (self == null) {
			throw new SormException(enumField.getColumnName() + "=" + enumField + " not found in: " + fields);
		}
=====================================================================
Found a 5 line (51 tokens) duplication in the following files: 
Starting at line 94 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/BaseEntity.java
Starting at line 103 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/BaseEntity.java

	protected <T> T get(final FieldDef<T> fieldDef) {
		final Field<T> self = (Field<T>) fields.get(fieldDef.getColumnName());
		if (self == null) {
			throw new SormException(fieldDef.getColumnName() + "=" + fieldDef + " not found in: " + fields);
		}
=====================================================================
Found a 10 line (51 tokens) duplication in the following files: 
Starting at line 258 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/Entity.java
Starting at line 280 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/Entity.java

	public void delete(final Criterion criterion) {
		if (CASCADED_DELETE) {
			for (final ManyToOne<?, ?> c : getManyToOnes()) {
				final Entity collaboration = c.getCollaboration();
				if (collaboration != null) {
					collaboration.delete();
				}
			}
		}
		log.fine("delete(Criterion[])");
=====================================================================
Found a 8 line (46 tokens) duplication in the following files: 
Starting at line 8 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceDog.java
Starting at line 10 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormDog.java

public class SormDog extends Entity {

	public static IdentityGenerator<Integer> id = new HsqldbSequence<Integer>(new FInteger("ID_DOG"),
			"DOG_SEQUENCE");
	public static FString name = new FString("NAME");
	public static FInteger age = new FInteger("AGE");

	public SormDog() {
=====================================================================
Found a 7 line (45 tokens) duplication in the following files: 
Starting at line 16 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/QueryGenUtils.java
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/QueryGenUtils.java

		for (final FieldDef<?> f : fields) {
			r.append(f.getColumnName()).append(',');
		}
		return r.deleteCharAt(r.length() - 1).toString();
	}

	public static String parametersJoin(final Collection<Field<?>> fields) {
=====================================================================
Found a 12 line (45 tokens) duplication in the following files: 
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceTest.java
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/HsqldbIdentityTest.java

public class HsqldbIdentityTest {

	static {
		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
		new EntityTest2();
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");
=====================================================================
Found a 17 line (44 tokens) duplication in the following files: 
Starting at line 36 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/CriteriaTest.java
Starting at line 28 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceTest.java
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/HsqldbIdentityTest.java

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER)"
		/**/);

		SessionFactory.getSession().commit();
	}

	@After
	public void after() {

		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE DOG");
=====================================================================
Found a 7 line (44 tokens) duplication in the following files: 
Starting at line 12 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Dog.java
Starting at line 8 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/IdentityDog.java

public class IdentityDog extends Entity {

	public static IdentityGenerator<Integer> id = new HsqldbIdentity<Integer>(new FInteger("ID_DOG"));
	public static FString name = new FString("NAME");
	public static FInteger age = new FInteger("AGE");

	public IdentityDog() {
=====================================================================
Found a 16 line (44 tokens) duplication in the following files: 
Starting at line 31 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/RecursiveTest.java
Starting at line 28 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceTest.java

		DataMapper.executeDDL("CREATE SEQUENCE DOG_SEQUENCE AS INTEGER START WITH 1 INCREMENT BY 1");
		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER)"
		/**/);

		SessionFactory.getSession().commit();
	}

	@After
	public void after() {

		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP SEQUENCE DOG_SEQUENCE");
=====================================================================
Found a 4 line (42 tokens) duplication in the following files: 
Starting at line 52 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/QueryGenUtils.java
Starting at line 62 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/QueryGenUtils.java

	public static Object[] fieldValuesIdLast(final Field<?> idField, final Collection<Field<?>> fields) {
		final Object[] r = new Object[fields.size()];
		int i = 0;
		for (final Field<?> f : fields) {
=====================================================================
Found a 11 line (42 tokens) duplication in the following files: 
Starting at line 36 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/identity/impl/hsqldb/HsqldbSequence.java
Starting at line 33 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/identity/impl/hsqldb/HsqldbIdentity.java

		return new QueryObject("CALL IDENTITY()");
	}

	@Override
	public void setGeneratedValue() {
		try {
			DataMapper.aggregateIdentityField(super.query, field);
		} catch (final Exception e) {
			throw new SormException(ERROR_OBTAINING_IDENTITY_KEY + query, e);
		}
	}
=====================================================================
Found a 7 line (40 tokens) duplication in the following files: 
Starting at line 60 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java
Starting at line 144 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java

	public void testLoadOutsideTX() throws Exception {

		SessionFactory.getSession().open();
		try {
			final A a = new A();
			final B b = new B();
			final AB ab = new AB();
=====================================================================
Found a 12 line (39 tokens) duplication in the following files: 
Starting at line 51 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 84 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

				r.add(rowMapper.mapRow(rs));
			}

			return r;
		} catch (final Exception e) {
			throw new SormException("error in query: " + query.toString(), e);
		} finally {
			close(pstm, rs);
		}
	}

	public static Number aggregate(final IQueryObject query) {
=====================================================================
Found a 6 line (38 tokens) duplication in the following files: 
Starting at line 74 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/criteria/Criteria.java
Starting at line 84 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/criteria/Criteria.java

	public static <T> Criterion isNotNull(final FieldDef<T> field) {
		return new Criterion() {
			public IQueryObject renderQuery() {
				return new QueryObject()
				/**/.append(field.getColumnName())
				/**/.append(" IS NOT NULL");
=====================================================================
Found a 2 line (37 tokens) duplication in the following files: 
Starting at line 66 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/SingletonFactory.java
Starting at line 77 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/SingletonFactory.java

	public static <T extends Entity> MutableQueryObject queryGet(final Class<T> c, final String name) {
		final Map<Class<? extends Entity>, Map<String, MutableQueryObject>> entMap = threadLocalQueries.get();
=====================================================================
Found a 10 line (37 tokens) duplication in the following files: 
Starting at line 43 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceTest.java
Starting at line 40 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/HsqldbIdentityTest.java

		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE DOG");
		SessionFactory.getSession().commit();
	}

	@Test
	public void testname() throws Exception {
		SessionFactory.getSession().open();

		new IdentityDog(null, "din", 9).store();
=====================================================================
Found a 19 line (37 tokens) duplication in the following files: 
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/SaveTest.java
Starting at line 37 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest2.java

			DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

			DataMapper.executeDDL(
			/**/"CREATE TABLE RABBIT (" +
			/**/"ID_RABBIT INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
			/**/"NAME VARCHAR(20)," +
			/**/"AGE INTEGER," +
			/**/"NUM_DOG INTEGER)"
			/**/);
			DataMapper.executeDDL(
			/**/"CREATE TABLE DOG (" +
			/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
			/**/"NAME VARCHAR(20)," +
			/**/"AGE INTEGER)"
			/**/);

			SessionFactory.getSession().commit();

		}
=====================================================================
Found a 5 line (36 tokens) duplication in the following files: 
Starting at line 74 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/BaseEntity.java
Starting at line 86 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/BaseEntity.java

		if (this.oneToManies.containsKey(c.getColumnName())) {
			throw new SormException("duplicated column name: " + getClass().getName() + "#"
					+ c.getColumnName());
		}
		this.oneToManies.put(c.getColumnName(), c);
=====================================================================
Found a 6 line (36 tokens) duplication in the following files: 
Starting at line 78 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/Entity.java
Starting at line 95 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/Entity.java

		if (!SingletonFactory.queryIsDefined(getClass(), "ploadById")) {
			final MutableQueryObject query = new MutableQueryObject(new QueryObject()
			/**/.append("SELECT * FROM ")
			/**/.append(getTableName())
			/**/.append(" WHERE ")
			/**/.append("?=")
=====================================================================
Found a 11 line (36 tokens) duplication in the following files: 
Starting at line 43 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/hibernate/HibernateBenchmark.java
Starting at line 62 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/hibernate/HibernateBenchmark.java

						"idDog=\\d+", "idDog=*"));

				tx.commit();
			} catch (final Exception e) {
				tx.rollback();
				throw e;
			} finally {
				s.flush();
				s.close();
			}
		}
=====================================================================
Found a 8 line (36 tokens) duplication in the following files: 
Starting at line 43 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceTest.java
Starting at line 40 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumTest.java

		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE DOG");
		SessionFactory.getSession().commit();
	}

	@Test
	public void testname() throws Exception {
		SessionFactory.getSession().open();
=====================================================================
Found a 13 line (35 tokens) duplication in the following files: 
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/HsqldbIdentityTest.java
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumTest.java

		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
=====================================================================
Found a 5 line (35 tokens) duplication in the following files: 
Starting at line 12 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Dog.java
Starting at line 9 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumDog.java

public class EnumDog extends Entity {

	public static IdentityGenerator<Integer> id = new HsqldbIdentity<Integer>(new FInteger("ID_DOG"));
	public static FString name = new FString("NAME");
	public static FEnum<EColor> color = new FEnum<EColor>("COLOR", EColor.class);
=====================================================================
Found a 9 line (35 tokens) duplication in the following files: 
Starting at line 97 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest2.java
Starting at line 103 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java

		}
		{
			SessionFactory.getSession().open();
			DataMapper.executeDDL("DROP TABLE RABBIT");
			DataMapper.executeDDL("DROP TABLE DOG");
			SessionFactory.getSession().commit();
		}
	}
}
=====================================================================
Found a 10 line (34 tokens) duplication in the following files: 
Starting at line 48 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 119 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

			final Number r = (Number) rs.getObject(1);

			if (rs.next()) {
				throw new SormException("more than 1 row produced");
			}

			return r;

		} catch (final Exception e) {
			throw new SormException("error in query: " + query, e);
=====================================================================
Found a 10 line (33 tokens) duplication in the following files: 
Starting at line 86 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/ATest.java
Starting at line 46 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/TestA.java

		} finally {
			SessionFactory.getSession().rollback();
		}
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE CITY");
=====================================================================
Found a 8 line (33 tokens) duplication in the following files: 
Starting at line 98 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest2.java
Starting at line 115 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/ATest.java

	public void after() {
		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE RABBIT");
		DataMapper.executeDDL("DROP TABLE DOG");
		SessionFactory.getSession().commit();
	}

}
=====================================================================
Found a 8 line (32 tokens) duplication in the following files: 
Starting at line 42 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/CriteriaTest.java
Starting at line 62 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/TestA.java

		/**/);
		SessionFactory.getSession().commit();
	}

	@After
	public void after() {
		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE CITY");
=====================================================================
Found a 6 line (32 tokens) duplication in the following files: 
Starting at line 42 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/IdentityMapTest.java
Starting at line 98 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest2.java

		{
			SessionFactory.getSession().open();
			DataMapper.executeDDL("DROP TABLE RABBIT");
			DataMapper.executeDDL("DROP TABLE DOG");
			SessionFactory.getSession().commit();
		}
=====================================================================
Found a 10 line (32 tokens) duplication in the following files: 
Starting at line 37 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/IdentityMapTest.java
Starting at line 32 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumTest.java

		/**/);

		SessionFactory.getSession().commit();
	}

	@After
	public void after() {

		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE DOG");
=====================================================================
Found a 6 line (32 tokens) duplication in the following files: 
Starting at line 42 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/RecursiveTest.java
Starting at line 98 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest2.java

		{
			SessionFactory.getSession().open();
			DataMapper.executeDDL("DROP TABLE RABBIT");
			DataMapper.executeDDL("DROP TABLE DOG");
			SessionFactory.getSession().commit();
		}
=====================================================================
Found a 10 line (32 tokens) duplication in the following files: 
Starting at line 37 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/RecursiveTest.java
Starting at line 32 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumTest.java

		/**/);

		SessionFactory.getSession().commit();
	}

	@After
	public void after() {

		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE DOG");
=====================================================================
Found a 6 line (32 tokens) duplication in the following files: 
Starting at line 47 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/SaveTest.java
Starting at line 42 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/RecursiveTest.java

	public void after() {
		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP TABLE RABBIT");
		DataMapper.executeDDL("DROP TABLE DOG");
		SessionFactory.getSession().commit();
	}
=====================================================================
Found a 6 line (31 tokens) duplication in the following files: 
Starting at line 49 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/criteria/Criteria.java
Starting at line 74 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/criteria/Criteria.java

	public static <T> Criterion isNull(final FieldDef<T> field) {
		return new Criterion() {
			public IQueryObject renderQuery() {
				return new QueryObject()
				/**/.append(field.getColumnName())
				/**/.append(" IS NULL");
=====================================================================
Found a 8 line (31 tokens) duplication in the following files: 
Starting at line 127 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 167 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

		} catch (final Exception e) {
			throw new SormException("error in query: " + query, e);
		} finally {
			close(pstm, rs);
		}
	}

	public static int update(final IQueryObject query) {
=====================================================================
Found a 7 line (31 tokens) duplication in the following files: 
Starting at line 62 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/Entity.java
Starting at line 104 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/Entity.java
Starting at line 150 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/Entity.java

				/**/.append(cs.renderQuery())
		/**/;
		final IRowMapper<T> mapper = getRowMapper();
		return DataMapper.queryUnique(mapper, query);
	}

	private <T extends Entity> List<T> ploadAll(final Class<T> entityClass) {
=====================================================================
Found a 4 line (31 tokens) duplication in the following files: 
Starting at line 13 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/QueryGenUtils.java
Starting at line 41 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/QueryGenUtils.java

	public static String setColumnNamesExceptId(final Field<?> idField, final Collection<Field<?>> fields) {

		final StringBuilder r = new StringBuilder();
		for (final Field<?> f : fields) {
=====================================================================
Found a 33 line (31 tokens) duplication in the following files: 
Starting at line 41 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/compo/OneToMany.java
Starting at line 54 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/compo/ManyToOne.java

			if (selfFkField.getValue() == null) {
				this.isInit = true;
				return null;
			}

			// XXX XXX XXX XXX XXX XXX XXX XXX XXX XXX XXX XXX
			// final Class<? extends E> castedForeignEntityClass =
			// foreignEntityClass;
			// this.foreignEntity =
			// SingletonFactory.getEntity(castedForeignEntityClass);
			// this.foreignIdFieldColumnName =
			// foreignEntity.getIdField().getColumnName();
			//
			// final IQueryObject q = new QueryObject()
			// /**/.append("SELECT * FROM ")
			// /**/.append(foreignEntity.getTableName())
			// /**/.append(" WHERE ")
			// /**/.append(foreignIdFieldColumnName)
			// /**/.append("=?")
			// /**/.addParams(selfFkField.getValue())
			// /**/;
			//
			// final IRowMapper<E> rowMapper =
			// this.foreignEntity.getRowMapper();
			// this.collaboration = DataMapper.queryUnique(rowMapper, q);
			//			
			// this.collaboration = (E)
			// SessionFactory.getSession().getIdentityMap().loadOrStore(
			// this.collaboration);
			// XXX XXX XXX XXX XXX XXX XXX XXX XXX XXX XXX XXX

			SessionFactory.getSession().open();
			this.collaboration = Entity.loadById(foreignEntityClass, selfFkField.getValue());
=====================================================================
Found a 8 line (31 tokens) duplication in the following files: 
Starting at line 89 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/session/NestableSession.java
Starting at line 116 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/session/NestableSession.java

				throw new SormException("throwed exception during transaction rollback", exc);
			}
		} else {
			String savePointName = null;
			try {
				final Savepoint savePoint = txStack.pop();
				savePointName = savePoint.getSavepointName();
				connection.rollback(savePoint);
=====================================================================
Found a 5 line (31 tokens) duplication in the following files: 
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Dog.java
Starting at line 10 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyDog.java

	public static IdentityGenerator<Integer> id = new NoKeyGenerator<Integer>(new FInteger("ID_DOG"));
	public static FString name = new FString("NAME");
	public static FInteger age = new FInteger("AGE");

	public NoKeyDog() {
=====================================================================
Found a 13 line (31 tokens) duplication in the following files: 
Starting at line 33 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/SaveTest.java
Starting at line 28 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceTest.java

		DataMapper.executeDDL("CREATE SEQUENCE DOG_SEQUENCE AS INTEGER START WITH 1 INCREMENT BY 1");
		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER)"
		/**/);

		SessionFactory.getSession().commit();
	}

	@After
	public void after() {
=====================================================================
Found a 9 line (30 tokens) duplication in the following files: 
Starting at line 72 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/compo/OneToMany.java
Starting at line 86 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/compo/ManyToOne.java

			this.collaboration = Entity.loadById(foreignEntityClass, selfFkField.getValue());
			SessionFactory.getSession().closeReadOnly();

			this.isInit = true;
		}
		return this.collaboration;
	}

	public void setCollaboration(final E collaboration) {
=====================================================================
Found a 5 line (30 tokens) duplication in the following files: 
Starting at line 36 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/hibernate/HibernateBenchmark.java
Starting at line 54 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/hibernate/HibernateBenchmark.java

		{
			final Transaction tx = HibernateSessionFactory.getSession().beginTransaction();
			tx.begin();
			final Session s = HibernateSessionFactory.getSession();
			try {
=====================================================================
Found a 8 line (30 tokens) duplication in the following files: 
Starting at line 46 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java
Starting at line 52 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormBenchmark.java

		/**/);
		SessionFactory.getSession().commit();
	}

	@After
	public void after() {
		SessionFactory.getSession().open();
		DataMapper.executeDDL("DROP SEQUENCE DOG_SEQUENCE");
=====================================================================
Found a 5 line (30 tokens) duplication in the following files: 
Starting at line 26 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java
Starting at line 51 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java

	public void after() {
		SessionFactory.getSession().open();
		DataMapper.executeDDLIgnoringErrors("DROP TABLE A");
		DataMapper.executeDDLIgnoringErrors("DROP TABLE B");
		DataMapper.executeDDLIgnoringErrors("DROP TABLE AB");
=====================================================================
Found a 8 line (30 tokens) duplication in the following files: 
Starting at line 37 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/RecursiveTest.java
Starting at line 46 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java

		/**/);
		SessionFactory.getSession().commit();
	}

	@After
	public void after() {
		SessionFactory.getSession().open();
		DataMapper.executeDDLIgnoringErrors("DROP TABLE A");
=====================================================================
Found a 7 line (29 tokens) duplication in the following files: 
Starting at line 122 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 194 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

				throw new SormException("no affected rows");
			}
			return r;
		} catch (final Exception e) {
			throw new SormException("error in query: " + query, e);
		} finally {
			close(pstm, null);
=====================================================================
Found a 5 line (29 tokens) duplication in the following files: 
Starting at line 13 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/ent/B.java
Starting at line 13 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/ent/A.java

	public static IdentityGenerator<Long> id = new HsqldbIdentity<Long>(new FLong("ID_A"));

	public static OneToMany<Integer, AB> abs = new OneToMany<Integer, AB>(AB.class, AB.as);

	public A() {
=====================================================================
Found a 9 line (29 tokens) duplication in the following files: 
Starting at line 33 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumDog.java
Starting at line 31 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/City.java

		set(City.id, id);
	}

	public String getName() {
		return get(name);
	}

	public void setName(final String name) {
		set(City.name, name);
=====================================================================
Found a 9 line (29 tokens) duplication in the following files: 
Starting at line 40 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyDog.java
Starting at line 43 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormDog.java

		set(Dog.name, name);
	}

	public Integer getAge() {
		return get(age);
	}

	public void setAge(final Integer age) {
		set(SormDog.age, age);
=====================================================================
Found a 9 line (29 tokens) duplication in the following files: 
Starting at line 32 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyDog.java
Starting at line 33 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumDog.java

		set(Dog.id, id);
	}

	public String getName() {
		return get(name);
	}

	public void setName(final String name) {
		set(Dog.name, name);
=====================================================================
Found a 9 line (29 tokens) duplication in the following files: 
Starting at line 40 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/IdentityDog.java
Starting at line 40 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyDog.java

		set(NoKeyDog.name, name);
	}

	public Integer getAge() {
		return get(age);
	}

	public void setAge(final Integer age) {
		set(NoKeyDog.age, age);
=====================================================================
Found a 9 line (29 tokens) duplication in the following files: 
Starting at line 32 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/IdentityDog.java
Starting at line 32 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyDog.java

		set(NoKeyDog.id, id);
	}

	public String getName() {
		return get(name);
	}

	public void setName(final String name) {
		set(NoKeyDog.name, name);
=====================================================================
Found a 9 line (29 tokens) duplication in the following files: 
Starting at line 41 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceDog.java
Starting at line 40 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/IdentityDog.java

		set(IdentityDog.name, name);
	}

	public Integer getAge() {
		return get(age);
	}

	public void setAge(final Integer age) {
		set(IdentityDog.age, age);
=====================================================================
Found a 9 line (29 tokens) duplication in the following files: 
Starting at line 33 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceDog.java
Starting at line 32 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/IdentityDog.java

		set(IdentityDog.id, id);
	}

	public String getName() {
		return get(name);
	}

	public void setName(final String name) {
		set(IdentityDog.name, name);
=====================================================================
Found a 11 line (29 tokens) duplication in the following files: 
Starting at line 36 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/session/NestedTransactionsTest.java
Starting at line 19 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java

public class Many2ManyTest {

	static {
		new EntityTest2();
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE A");
=====================================================================
Found a 9 line (29 tokens) duplication in the following files: 
Starting at line 88 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/ATest.java
Starting at line 36 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormBenchmark.java

		}
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");
		DataMapper.executeDDLIgnoringErrors("DROP SEQUENCE DOG_SEQUENCE");
=====================================================================
Found a 11 line (29 tokens) duplication in the following files: 
Starting at line 17 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/CriteriaTest.java
Starting at line 19 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java

public class Many2ManyTest {

	static {
		new EntityTest2();
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE A");
=====================================================================
Found a 9 line (29 tokens) duplication in the following files: 
Starting at line 40 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Dog.java
Starting at line 33 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceDog.java

		set(SequenceDog.id, id);
	}

	public String getName() {
		return get(name);
	}

	public void setName(final String name) {
		set(SequenceDog.name, name);
=====================================================================
Found a 4 line (29 tokens) duplication in the following files: 
Starting at line 69 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java
Starting at line 72 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java

					where(and(eq(Rabbit.id, 5), eq(Rabbit.name, "jou")))));

			System.out.println(
			/**/Entity.loadBy(Rabbit.class, where(eq(Rabbit.id, 100)), orderBy(Order.asc(Rabbit.name), Order
=====================================================================
Found a 11 line (29 tokens) duplication in the following files: 
Starting at line 12 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/IdentityMapTest.java
Starting at line 19 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java

public class Many2ManyTest {

	static {
		new EntityTest2();
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE A");
=====================================================================
Found a 9 line (29 tokens) duplication in the following files: 
Starting at line 46 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Rabbit.java
Starting at line 41 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceDog.java

		set(SequenceDog.name, name);
	}

	public Integer getAge() {
		return get(age);
	}

	public void setAge(final Integer age) {
		set(SequenceDog.age, age);
=====================================================================
Found a 9 line (29 tokens) duplication in the following files: 
Starting at line 38 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Rabbit.java
Starting at line 40 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Dog.java

		set(Dog.id, id);
	}

	public String getName() {
		return get(name);
	}

	public void setName(final String name) {
		set(Dog.name, name);
=====================================================================
Found a 11 line (29 tokens) duplication in the following files: 
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/SaveTest.java
Starting at line 19 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java

public class Many2ManyTest {

	static {
		new EntityTest2();
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE A");
=====================================================================
Found a 8 line (28 tokens) duplication in the following files: 
Starting at line 21 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/CriteriaTest.java
Starting at line 37 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormBenchmark.java

	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");
		DataMapper.executeDDLIgnoringErrors("DROP SEQUENCE DOG_SEQUENCE");
=====================================================================
Found a 9 line (28 tokens) duplication in the following files: 
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java
Starting at line 15 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/TestA.java

public class TestA {

	static {
		new EntityTest2();
		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Test
	public void test() {
=====================================================================
Found a 8 line (28 tokens) duplication in the following files: 
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/SaveTest.java
Starting at line 37 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormBenchmark.java

	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");
		DataMapper.executeDDLIgnoringErrors("DROP SEQUENCE DOG_SEQUENCE");
=====================================================================
Found a 7 line (27 tokens) duplication in the following files: 
Starting at line 179 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java
Starting at line 210 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/mapper/DataMapper.java

			System.out.println(sqlQuery);
		}

		PreparedStatement pstm = null;
		try {
			final Connection c = SessionFactory.getSession().getConnection();
			pstm = c.prepareStatement(sqlQuery);
=====================================================================
Found a 7 line (27 tokens) duplication in the following files: 
Starting at line 68 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/Entity.java
Starting at line 127 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/Entity.java

				/**/.append(cs.renderQuery())
		/**/;
		final IRowMapper<T> mapper = getRowMapper();
		return DataMapper.query(mapper, query);
	}

	private <T extends Entity> T ploadUniqueBy(final Class<T> entityClass, final Criterion... criterions) {
=====================================================================
Found a 7 line (27 tokens) duplication in the following files: 
Starting at line 16 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/FString.java
Starting at line 36 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/FEnum.java

		return new FEnum<T>(getColumnName(), enumClass);
	}

	@Override
	public void load(final ResultSet rs) throws SQLException {
		setValue(rs.getString(getColumnName()));
	}
=====================================================================
Found a 4 line (27 tokens) duplication in the following files: 
Starting at line 19 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/session/identity/IdentityMap.java
Starting at line 49 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/session/identity/IdentityMap.java

	public void store(final T entity) {
		final Object idValue = entity.getIdField().getValue();
		if (idValue == null) {
			return;
=====================================================================
Found a 1 line (27 tokens) duplication in the following files: 
Starting at line 170 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java
Starting at line 176 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java

			assertTrue(a2 == a2.getAbs().get(0).getB().getAbs().get(0).getA()); // TODO
=====================================================================
Found a 10 line (27 tokens) duplication in the following files: 
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/CriteriaTest.java
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyTest.java

		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

		DataMapper.executeDDL(
=====================================================================
Found a 15 line (27 tokens) duplication in the following files: 
Starting at line 28 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java
Starting at line 28 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/CriteriaTest.java

		DataMapper.executeDDLIgnoringErrors("DROP TABLE RABBIT");

		DataMapper.executeDDL(
		/**/"CREATE TABLE RABBIT (" +
		/**/"ID_RABBIT INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER," +
		/**/"NUM_DOG INTEGER)"
		/**/);
		DataMapper.executeDDL(
		/**/"CREATE TABLE DOG (" +
		/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
		/**/"NAME VARCHAR(20)," +
		/**/"AGE INTEGER)"
		/**/);
=====================================================================
Found a 5 line (27 tokens) duplication in the following files: 
Starting at line 27 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest2.java
Starting at line 16 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormBenchmark.java

		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Test
	public void testname() throws Exception {
=====================================================================
Found a 7 line (27 tokens) duplication in the following files: 
Starting at line 60 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/IdentityMapTest.java
Starting at line 79 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/IdentityMapTest.java

			assertEquals("[ID_DOG=100, NAME=chucho, AGE=3, [...]]", d1.toString());
			assertTrue(d1 == d2);

		} finally {
			SessionFactory.getSession().rollback();
		}
	}
=====================================================================
Found a 15 line (27 tokens) duplication in the following files: 
Starting at line 23 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/IdentityMapTest.java
Starting at line 28 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java

			DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

			DataMapper.executeDDL(
			/**/"CREATE TABLE RABBIT (" +
			/**/"ID_RABBIT INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
			/**/"NAME VARCHAR(20)," +
			/**/"AGE INTEGER," +
			/**/"NUM_DOG INTEGER)"
			/**/);
			DataMapper.executeDDL(
			/**/"CREATE TABLE DOG (" +
			/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
			/**/"NAME VARCHAR(20)," +
			/**/"AGE INTEGER)"
			/**/);
=====================================================================
Found a 10 line (27 tokens) duplication in the following files: 
Starting at line 15 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/IdentityMapTest.java
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyTest.java

		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

		DataMapper.executeDDL(
=====================================================================
Found a 15 line (27 tokens) duplication in the following files: 
Starting at line 23 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/RecursiveTest.java
Starting at line 28 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java

			DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

			DataMapper.executeDDL(
			/**/"CREATE TABLE RABBIT (" +
			/**/"ID_RABBIT INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
			/**/"NAME VARCHAR(20)," +
			/**/"AGE INTEGER," +
			/**/"NUM_DOG INTEGER)"
			/**/);
			DataMapper.executeDDL(
			/**/"CREATE TABLE DOG (" +
			/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
			/**/"NAME VARCHAR(20)," +
			/**/"AGE INTEGER)"
			/**/);
=====================================================================
Found a 10 line (27 tokens) duplication in the following files: 
Starting at line 15 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/RecursiveTest.java
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyTest.java

		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

		DataMapper.executeDDL(
=====================================================================
Found a 15 line (27 tokens) duplication in the following files: 
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/SaveTest.java
Starting at line 28 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java

			DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

			DataMapper.executeDDL(
			/**/"CREATE TABLE RABBIT (" +
			/**/"ID_RABBIT INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
			/**/"NAME VARCHAR(20)," +
			/**/"AGE INTEGER," +
			/**/"NUM_DOG INTEGER)"
			/**/);
			DataMapper.executeDDL(
			/**/"CREATE TABLE DOG (" +
			/**/"ID_DOG INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100) PRIMARY KEY," +
			/**/"NAME VARCHAR(20)," +
			/**/"AGE INTEGER)"
			/**/);
=====================================================================
Found a 10 line (27 tokens) duplication in the following files: 
Starting at line 17 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/SaveTest.java
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyTest.java

		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

		DataMapper.executeDDL(
=====================================================================
Found a 2 line (26 tokens) duplication in the following files: 
Starting at line 77 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/SingletonFactory.java
Starting at line 83 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/SingletonFactory.java

	public static <T extends Entity> void querySet(final Class<T> c, final String name, final MutableQueryObject query) {
		final Map<Class<? extends Entity>, Map<String, MutableQueryObject>> entMap = threadLocalQueries.get();
=====================================================================
Found a 7 line (26 tokens) duplication in the following files: 
Starting at line 21 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/primitive/FShort.java
Starting at line 17 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/primitive/FLong.java
Starting at line 17 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/primitive/FInteger.java
Starting at line 21 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/primitive/FFloat.java
Starting at line 21 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/primitive/FDouble.java

		final Double v = rs.getObject(getColumnName()) != null ? rs.getDouble(getColumnName()) : null;
		setValue(v);
	}

	@Override
	public void loadIdentity(final ResultSet rs) throws SQLException {
		final Double v = rs.getObject(1) != null ? rs.getDouble(1) : null;
=====================================================================
Found a 5 line (26 tokens) duplication in the following files: 
Starting at line 106 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/session/NestableSession.java
Starting at line 132 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/session/NestableSession.java

	public void closeReadOnly() {
		if (connection == null) {
			throw new SormException("null connection; transaction not opened");
		}
		if (txStack.isEmpty()) {
=====================================================================
Found a 1 line (26 tokens) duplication in the following files: 
Starting at line 99 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java
Starting at line 170 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/Many2ManyTest.java

		a2.getAbs().get(0).getB().getAbs().get(0).getA();
=====================================================================
Found a 8 line (26 tokens) duplication in the following files: 
Starting at line 19 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/HsqldbIdentityTest.java
Starting at line 37 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormBenchmark.java

	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");
		DataMapper.executeDDLIgnoringErrors("DROP SEQUENCE DOG_SEQUENCE");
=====================================================================
Found a 8 line (26 tokens) duplication in the following files: 
Starting at line 39 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/session/NestedTransactionsTest.java
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceTest.java

		new EntityTest2();
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP SEQUENCE DOG_SEQUENCE");
=====================================================================
Found a 9 line (26 tokens) duplication in the following files: 
Starting at line 89 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/ATest.java
Starting at line 19 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumTest.java

	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP TABLE DOG");

		DataMapper.executeDDL(
=====================================================================
Found a 3 line (26 tokens) duplication in the following files: 
Starting at line 85 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/ATest.java
Starting at line 32 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormBenchmark.java

			SessionFactory.getSession().commit();
		} catch (final Exception e) {
			SessionFactory.getSession().rollback();
=====================================================================
Found a 8 line (26 tokens) duplication in the following files: 
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/CriteriaTest.java
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceTest.java

		new EntityTest2();
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP SEQUENCE DOG_SEQUENCE");
=====================================================================
Found a 2 line (26 tokens) duplication in the following files: 
Starting at line 76 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java
Starting at line 79 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java

			System.out.println(Entity.count(Rabbit.class, where(eq(Rabbit.id, 4))));
			System.out.println(Entity.count(Rabbit.class, where(eq(Rabbit.id, 100))));
=====================================================================
Found a 2 line (26 tokens) duplication in the following files: 
Starting at line 69 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java
Starting at line 79 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java

			System.out.println(Entity.count(Rabbit.class, where(eq(Rabbit.id, 4))));
			System.out.println(Entity.count(Rabbit.class, where(eq(Rabbit.id, 100))));
=====================================================================
Found a 8 line (26 tokens) duplication in the following files: 
Starting at line 17 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/SaveTest.java
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceTest.java

		new EntityTest2();
	}

	@Before
	public void before() {
		SessionFactory.getSession().open();

		DataMapper.executeDDLIgnoringErrors("DROP SEQUENCE DOG_SEQUENCE");
=====================================================================
Found a 7 line (25 tokens) duplication in the following files: 
Starting at line 11 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/primitive/FLong.java
Starting at line 11 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/primitive/FInteger.java
Starting at line 10 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/primitive/FByte.java
Starting at line 10 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/primitive/FBoolean.java
Starting at line 11 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/date/FTimestamp.java
Starting at line 11 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/date/FTime.java
Starting at line 11 of /home/mhoms/java/workspace2/sorm5/src/main/java/org/morm/record/field/impl/date/FDate.java

	public FDate(final String columnName) {
		super(columnName);
	}

	@Override
	public void load(final ResultSet rs) throws SQLException {
		final Date v = rs.getObject(getColumnName()) != null ? rs.getDate(getColumnName()) : null;
=====================================================================
Found a 9 line (25 tokens) duplication in the following files: 
Starting at line 23 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/City.java
Starting at line 19 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/ent/B.java
Starting at line 18 of /home/mhoms/java/workspace2/sorm5/src/test/java/many2many/ent/AB.java
Starting at line 27 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormDog.java

		setAge(age);
	}

	public Integer getId() {
		return get(id);
	}

	public void setId(final Integer id) {
		set(Dog.id, id);
=====================================================================
Found a 4 line (25 tokens) duplication in the following files: 
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/City.java
Starting at line 23 of /home/mhoms/java/workspace2/sorm5/src/test/java/benchmark/sorm/SormDog.java

	public SormDog(final Integer id, final String name, final Integer age) {
		this();
		setId(id);
		setName(name);
=====================================================================
Found a 9 line (25 tokens) duplication in the following files: 
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumDog.java
Starting at line 23 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/City.java

		setName(name);
	}

	public Integer getId() {
		return get(id);
	}

	public void setId(final Integer id) {
		set(City.id, id);
=====================================================================
Found a 8 line (25 tokens) duplication in the following files: 
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumTest.java
Starting at line 15 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/TestA.java

public class TestA {

	static {
		new EntityTest2();
		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Test
=====================================================================
Found a 9 line (25 tokens) duplication in the following files: 
Starting at line 24 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyDog.java
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumDog.java

		setColor(color);
	}

	public Integer getId() {
		return get(id);
	}

	public void setId(final Integer id) {
		set(Dog.id, id);
=====================================================================
Found a 4 line (25 tokens) duplication in the following files: 
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyDog.java
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/City.java

	public City(final Integer id, final String name, final Integer age) {
		this();
		setId(id);
		setName(name);
=====================================================================
Found a 8 line (25 tokens) duplication in the following files: 
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyTest.java
Starting at line 15 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/TestA.java

public class TestA {

	static {
		new EntityTest2();
		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Test
=====================================================================
Found a 9 line (25 tokens) duplication in the following files: 
Starting at line 24 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/IdentityDog.java
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumDog.java

		setColor(color);
	}

	public Integer getId() {
		return get(id);
	}

	public void setId(final Integer id) {
		set(Dog.id, id);
=====================================================================
Found a 4 line (25 tokens) duplication in the following files: 
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/IdentityDog.java
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/City.java

	public City(final Integer id, final String name, final Integer age) {
		this();
		setId(id);
		setName(name);
=====================================================================
Found a 9 line (25 tokens) duplication in the following files: 
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceDog.java
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumDog.java

		setColor(color);
	}

	public Integer getId() {
		return get(id);
	}

	public void setId(final Integer id) {
		set(Dog.id, id);
=====================================================================
Found a 4 line (25 tokens) duplication in the following files: 
Starting at line 21 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/hsqldb/SequenceDog.java
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/City.java

	public City(final Integer id, final String name, final Integer age) {
		this();
		setId(id);
		setName(name);
=====================================================================
Found a 9 line (25 tokens) duplication in the following files: 
Starting at line 32 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Dog.java
Starting at line 23 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/City.java

		setName(name);
	}

	public Integer getId() {
		return get(id);
	}

	public void setId(final Integer id) {
		set(City.id, id);
=====================================================================
Found a 4 line (25 tokens) duplication in the following files: 
Starting at line 28 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Dog.java
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/City.java

	public City(final Integer id, final String name, final Integer age) {
		this();
		setId(id);
		setName(name);
=====================================================================
Found a 8 line (25 tokens) duplication in the following files: 
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/EntityTest.java
Starting at line 14 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/identity/impl/NoKeyTest.java

public class NoKeyTest {

	static {
		new EntityTest2();
		new SessionFactory().setDataSource(new HsqldbDataSourceFactory().getDataSource());
	}

	@Before
=====================================================================
Found a 9 line (25 tokens) duplication in the following files: 
Starting at line 30 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Rabbit.java
Starting at line 25 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/record/field/impl/EnumDog.java

		setColor(color);
	}

	public Integer getId() {
		return get(id);
	}

	public void setId(final Integer id) {
		set(Dog.id, id);
=====================================================================
Found a 4 line (25 tokens) duplication in the following files: 
Starting at line 26 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/test/Rabbit.java
Starting at line 20 of /home/mhoms/java/workspace2/sorm5/src/test/java/org/morm/didactic/a/City.java

	public City(final Integer id, final String name, final Integer age) {
		this();
		setId(id);
		setName(name);
